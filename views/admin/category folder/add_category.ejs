<div class="flex">
    <!-- Sidebar -->
    <%- include('../../partials/admin/side bar') %>
        <!-- Main Content -->
        <div class="flex-1 p-6">
            <%- include('../../partials/admin/header') %>
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-2xl font-semibold">Add Category</h2>
                </div>
                <div class="mt-4 text-sm text-gray-500">
                    <a href="/admin/home" class="text-blue-500">Dashboard</a>
                    &gt;
                    <a href="/admin/categories" class="text-blue-500">Categories</a>
                    &gt;
                    <span>Add Category</span>
                </div>
                <% if (successMessage) { %>
                    <div id="success_div" class="bg-green-500 text-white p-2 mb-5 text-center rounded transition-opacity duration-500 ease-in-out">
                        <p id="success_message"><%= successMessage%></p>
                    </div>
                <% } %>
                <% if (errorMessage) { %>
                    <div id="error_div" class="bg-red-600 text-white p-2 mb-5 text-center rounded transition-opacity duration-500 ease-in-out">
                        <p id="error_message"><%= errorMessage %></p>
                    </div>
                <% } %>
                <form action="/admin/categories/add" method="post">
                    <div class="flex space-x-6">
                        <!-- Thumbnail Section -->
                        <!-- <div class="w-1/3 bg-white p-6 rounded-lg shadow-md">
                            <h3 class="text-lg font-semibold mb-4">Thumbnail</h3>
                            <div class="border-2 border-dashed border-gray-300 p-6 text-center rounded-lg">
                                <i class="fas fa-image text-4xl text-gray-400 mb-4"></i>
                                <p class="text-gray-500 mb-4">Drag and drop image here, or click add image</p>
                                <button class="bg-purple-600 text-white px-4 py-2 rounded-md">Add Image</button>
                            </div>
                        </div> -->
                        <!-- General Information Section -->
                        <div class="w-2/3 bg-white p-6 rounded-lg shadow-md">
                            <h3 class="text-lg font-semibold mb-4">General Information</h3>
                            <div class="mb-4">
                                <label for="category-name" class="block text-gray-700 mb-2">Category Name</label>
                                <input type="text" id="category_name" name="category_name"
                                    class="w-full border border-gray-300 p-2 rounded-md"
                                    placeholder="Type category name here...">
                            </div>
                            <div>
                                <label for="description" class="block text-gray-700 mb-2">Description</label>
                                <textarea id="description" name="description"
                                    class="w-full border border-gray-300 p-2 rounded-md" rows="4"
                                    placeholder="Type category description here..."></textarea>
                            </div>
                            <div class="mb-4">
                                <label for="discountType" class="block text-gray-700 mb-2">Discount Type</label>
                                <select id="discountType" name="discountType" onchange="handleDiscountTypeChange()" class="w-full border border-gray-300 p-2 rounded-md">
                                    <% discountTypes.forEach((type,index) => { %>
                                        <option value="<%= type %>"<% index === 0 ? 'selected' : '' %>><%= type %></option>
                                    <% }) %>
                                </select>
                            </div>
                            <div id="percentageFields">
                                <div class="mb-4">
                                    <label for="percentage" class="block text-gray-700 mb-2">Discount Percentage</label>
                                    <div class="flex items-center">
                                        <input type="number" id="percentage" name="offer" oninput="validatePercentage()" class="w-full p-2 border rounded-l-md" placeholder="Enter percentage">
                                        <span class="px-3 py-2 bg-gray-200 border border-r-0 rounded-r-md">%</span>
                                    </div>
                                    <p id="percentageError" class="text-red-600 text-sm hidden"></p>
                                </div>
                            </div>
                            <div id="fixedFields" class="hidden">
                                <div class="mb-4">
                                    <label for="fixedAmount" class="block text-gray-700 mb-2">Fixed Discount Amount</label>
                                    <div class="flex items-center">
                                        <span class="px-3 py-2 bg-gray-200 border border-r-0 rounded-l-md">â‚¹</span>
                                        <input type="number" id="fixedAmount" name="fixedAmount" oninput="validateFixedAmount()" class="w-full p-2 border rounded-r-md" placeholder="Enter fixed amount">
                                    </div>
                                    <p id="fixedAmountError" class="text-red-600 text-sm hidden"></p>
                                </div>
                            </div>
                            <div class="mb-4">
                                <label for="status" class="block text-gray-700 mb-2">Status</label>
                                <select id="status" name="status" class="w-full border border-gray-300 p-2 rounded-md">
                                    <option value=true selected>Listed</option>
                                    <option value=false>Unlisted</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="flex justify-end mt-6">
                        <button onclick="window.history.back()" type="button" class="bg-gray-300 text-gray-700 px-4 py-2 rounded-md mr-4">Cancel</button>
                        <button type="submit" class="bg-purple-600 text-white px-4 py-2 rounded-md">+ Add Category</button>
                    </div>
                </form>
        </div>
</div>
<script src="JS/admin/category.js"></script>